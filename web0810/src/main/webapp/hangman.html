<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HangMan</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<style>
	body {
		margin: 0 auto;
		text-align: center;
	}
	#field {
		width: 400px; 
		border: 3px solid black;
		margin: 0 auto;
	}
	.alphabet-button {
		display: inline-block;
		margin: 5px;
		padding: 5px 10px;
		border: 1px solid black;
		cursor: pointer;
	}
</style>
<script>
	const words = ["apple", "banana", "cherry", "grape", "orange", "pear"];
	let selectedWord = "";
	let guessedLetters = [];
	let remainChances = 6;

	function initGame() {
		selectedWord = words[Math.floor(Math.random() * words.length)];
		guessedLetters = []
		remainChances = 6
		updateDisplay()
	}

	function updateDisplay() {
		const wordDisplay = document.getElementById("word-display");
		let displayedWord = ""
		for (let i = 0; i < selectedWord.length; i++) {
		    let letter = selectedWord[i]
		    if (guessedLetters.includes(letter)) {
		        displayedWord += letter;
		    } else {
		        displayedWord += "_"
		    }
		    displayedWord += " "
		}
		wordDisplay.textContent = displayedWord;
	}

	function init_alpha() {
		let field = $("#alphabet");
		field.empty();
		
		for (let index = 0; index < 26; index++) { // 알파벳 개수만큼 반복
			let letter = String.fromCharCode(97 + index); // 알파벳 문자 생성
			
			let button = $("<button>")
				.addClass("alphabet-button")
				.text(letter)
				.attr("data-letter", letter)
				.click(function() {
					click(letter);
				});
			field.append(button);
		}
	}

	function click(letter) {
		if (!guessedLetters.includes(letter)) {
			guessedLetters.push(letter);
			$(event.target).css("background-color", "yellow");
			updateDisplay();
		}
		
		let count = $("#life") {
			
		}
		
		mainChances--;
		if (remainChances == 0) {
			alert("땡");
		}
	}

	$(function() {
		init_alpha();
		initGame();
	});
</script>
</head>
<body>
	<h1>HangMan - Category : fruits</h1>
	<div id="field">
		<p></p>
		<div id="word-display"></div>
		<div id="life"></div>
		<hr>
		<div id="alphabet"></div>
	</div>
</body>
</html>
